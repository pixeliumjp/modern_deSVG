const t=async(t,e=!1)=>{const r=new Map,o=async(t,r)=>{try{const o=await fetch(t);if(!o.ok)throw new Error("Failed to fetch SVG");const a=await o.text(),s=(new DOMParser).parseFromString(a,"image/svg+xml");if(!s)return;const n=s.documentElement,i=n.querySelectorAll("path");e&&i.forEach((t=>t.removeAttribute("style"))),n.removeAttribute("xmlns:a"),r.forEach((t=>c(t,n.cloneNode(!0))))}catch(t){console.error(`Error loading SVG: ${t}`)}},c=(t,e)=>{const r=t.id,o=t.getAttribute("class");r&&(e.id=r),o&&e.setAttribute("class",`${o} replaced-svg`),t.parentNode.replaceChild(e,t)};document.querySelectorAll(t).forEach((t=>{const e=t.getAttribute("data-src")??t.getAttribute("src");e&&(r.has(e)||r.set(e,[]),r.get(e).push(t))}));for(const[t,e]of r.entries())await o(t,e)};export{t as deSVG};
